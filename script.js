const header=document.querySelector("header"),navLinks=document.querySelector(".nav-links"),filterButtons=document.querySelectorAll(".filter-btn"),tourCards=document.querySelectorAll(".tour-card"),destinationCards=document.querySelectorAll(".destination-card"),toursGrid=document.querySelector(".tours-grid"),backToTop=document.querySelector(".back-to-top");function toggleMenu(){navLinks&&navLinks.classList.toggle("active")}function openModal(e){const t=document.getElementById("bookModal");t&&(t.style.display="block",document.getElementById("tourName")&&(document.getElementById("tourName").value=e||""))}function closeModal(){const e=document.getElementById("bookModal");e&&(e.style.display="none")}window.addEventListener("scroll",()=>{header&&(window.scrollY>100?header.classList.add("scrolled"):header.classList.remove("scrolled")),backToTop&&(window.scrollY>300?backToTop.classList.add("visible"):backToTop.classList.remove("visible"))}),window.addEventListener("load",()=>{tourCards&&tourCards.forEach(e=>e.classList.add("visible")),destinationCards&&destinationCards.forEach(e=>e.classList.add("visible"))}),backToTop&&backToTop.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),filterButtons&&filterButtons.forEach(e=>{e.addEventListener("click",()=>{filterButtons.forEach(e=>e.classList.remove("active")),e.classList.add("active");const t=e.getAttribute("data-filter"),a=e.getAttribute("data-value")||t;tourCards.forEach(e=>{const r=parseInt(e.getAttribute("data-duration")),i=e.getAttribute("data-difficulty"),n=parseInt(e.getAttribute("data-price"));e.classList.remove("visible"),setTimeout(()=>{if("all"===t)e.style.display="block",setTimeout(()=>e.classList.add("visible"),50);else if("duration"===t){const t="2-3-days"===a?r<=3:r>3;e.style.display=t?"block":"none",t&&setTimeout(()=>e.classList.add("visible"),50)}else if("difficulty"===t)e.style.display=i===a?"block":"none",i===a&&setTimeout(()=>e.classList.add("visible"),50);else if("price"===t){e.style.display="block";const a=Array.from(tourCards).sort((e,t)=>parseInt(e.getAttribute("data-price"))-parseInt(t.getAttribute("data-price")));a.forEach(e=>toursGrid.appendChild(e)),setTimeout(()=>e.classList.add("visible"),50)}else"reset"===t&&(e.style.display="block",setTimeout(()=>e.classList.add("visible"),50),toursGrid.appendChild(e))},200)})}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})}),document.getElementById("bookingForm")&&document.getElementById("bookingForm").addEventListener("submit",e=>{e.preventDefault(),alert("Request submitted! We’ll get back to you soon."),closeModal()}),document.getElementById("planTripForm")&&document.getElementById("planTripForm").addEventListener("submit",e=>{e.preventDefault();const t=document.getElementById("fullName").value,a=document.getElementById("email").value,r=document.getElementById("phone").value,i=document.getElementById("tourName").value,n=document.getElementById("startDate").value,o=document.getElementById("groupSize").value,l=document.getElementById("preferences").value,d=`Hi Tanzania Trek! I’m ${t}, planning a trip. Tour: ${i}, Start Date: ${n}, Group Size: ${o}. Preferences: ${l}. Contact me at ${r} or ${a}.`;alert("Request submitted! We’ll get back to you soon."),closeModal()}),document.getElementById("planTripForm")&&document.getElementById("planTripForm").addEventListener("input",()=>{const e=document.getElementById("fullName").value,t=document.getElementById("email").value,a=document.getElementById("phone").value,r=document.getElementById("tourName").value,i=document.getElementById("startDate").value,n=document.getElementById("groupSize").value,o=document.getElementById("preferences").value,l=`Hi Tanzania Trek! I’m ${e}, planning a trip. Tour: ${r}, Start Date: ${i}, Group Size: ${n}. Preferences: ${o}.`,d=`Plan My Tanzania Trip - ${r}`,s=`Name: ${e}\nEmail: ${t}\nPhone: ${a}\nTour: ${r}\nStart Date: ${i}\nGroup Size: ${n}\nPreferences: ${o}`;document.getElementById("whatsappLink").href=`https://wa.me/255623474720?text=${encodeURIComponent(l)}`,document.getElementById("emailLink").href=`mailto:info@tanzaniatrek.com?subject=${encodeURIComponent(d)}&body=${encodeURIComponent(s)}`}); 